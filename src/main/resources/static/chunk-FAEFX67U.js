import{a as V,b as W,c as q,d as N,e as L,f as B,g as J,h as D,i as F,j as R,k as z,l as j,m as G}from"./chunk-3PMXPZ6N.js";import{a as U}from"./chunk-HPOMPOMB.js";import{f as k,i as O,j as P}from"./chunk-ODEJQGXJ.js";import{Aa as I,Ea as p,Ka as l,Ma as t,Na as e,Pa as A,Qa as x,Ra as c,Sa as _,Ta as o,Va as T,Wa as u,X as f,Xa as M,Y as b,Ya as v,a as w,ra as d,wa as C}from"./chunk-NPOSHTJS.js";function K(n,m){n&1&&(t(0,"h3"),o(1,"Add Member"),e())}function Q(n,m){if(n&1&&(t(0,"h3"),o(1),e()),n&2){let i=c(2);d(),T("Edit Member (ID: ",i.selectedMember.memberId,")")}}function X(n,m){n&1&&(t(0,"div"),o(1,"Name is required."),e())}function Y(n,m){n&1&&(t(0,"div"),o(1,"Minimum 3 characters required."),e())}function Z(n,m){if(n&1&&(t(0,"div",32),p(1,X,2,0,"div",15)(2,Y,2,0,"div",15),e()),n&2){c();let i=_(8);d(),l("ngIf",i.errors==null?null:i.errors.required),d(),l("ngIf",i.errors==null?null:i.errors.minlength)}}function $(n,m){n&1&&(t(0,"div",32),o(1,"Role is required."),e())}function ee(n,m){n&1&&(t(0,"div"),o(1,"Contact Info is required."),e())}function te(n,m){n&1&&(t(0,"div"),o(1,"Enter a valid 10-digit number."),e())}function ne(n,m){if(n&1&&(t(0,"div",32),p(1,ee,2,0,"div",15)(2,te,2,0,"div",15),e()),n&2){c();let i=_(26);d(),l("ngIf",i.errors==null?null:i.errors.required),d(),l("ngIf",i.errors==null?null:i.errors.pattern)}}function ie(n,m){n&1&&(t(0,"div"),o(1,"Email is required."),e())}function re(n,m){n&1&&(t(0,"div"),o(1,"Invalid email format."),e())}function oe(n,m){if(n&1&&(t(0,"div",32),p(1,ie,2,0,"div",15)(2,re,2,0,"div",15),e()),n&2){c();let i=_(32);d(),l("ngIf",i.errors==null?null:i.errors.required),d(),l("ngIf",i.errors==null?null:i.errors.email)}}function me(n,m){n&1&&(t(0,"div",32),o(1,"Date of Joining is required."),e())}function de(n,m){n&1&&(t(0,"div",32),o(1,"Committee Type is required."),e())}function ae(n,m){n&1&&(t(0,"div",32),o(1,"Status is required."),e())}function le(n,m){if(n&1){let i=A();t(0,"form",14,0),x("ngSubmit",function(){f(i);let r=c();return b(r.saveMember())}),p(2,K,2,0,"h3",15)(3,Q,2,1,"h3",15),t(4,"div",16)(5,"label"),o(6,"Name:"),e(),t(7,"input",17,1),v("ngModelChange",function(r){f(i);let a=c();return M(a.selectedMember.name,r)||(a.selectedMember.name=r),b(r)}),e(),p(9,Z,3,2,"div",18),e(),t(10,"div",16)(11,"label"),o(12,"Role:"),e(),t(13,"select",19,2),v("ngModelChange",function(r){f(i);let a=c();return M(a.selectedMember.role,r)||(a.selectedMember.role=r),b(r)}),t(15,"option",20),o(16,"--Select Role--"),e(),t(17,"option",21),o(18,"Working"),e(),t(19,"option",22),o(20,"Core"),e()(),p(21,$,2,0,"div",18),e(),t(22,"div",16)(23,"label"),o(24,"Contact Info:"),e(),t(25,"input",23,3),v("ngModelChange",function(r){f(i);let a=c();return M(a.selectedMember.contactInfo,r)||(a.selectedMember.contactInfo=r),b(r)}),e(),p(27,ne,3,2,"div",18),e(),t(28,"div",16)(29,"label"),o(30,"Email:"),e(),t(31,"input",24,4),v("ngModelChange",function(r){f(i);let a=c();return M(a.selectedMember.email,r)||(a.selectedMember.email=r),b(r)}),e(),p(33,oe,3,2,"div",18),e(),t(34,"div",16)(35,"label"),o(36,"Date of Joining:"),e(),t(37,"input",25,5),v("ngModelChange",function(r){f(i);let a=c();return M(a.selectedMember.dateOfJoining,r)||(a.selectedMember.dateOfJoining=r),b(r)}),e(),p(39,me,2,0,"div",18),e(),t(40,"div",16)(41,"label"),o(42,"Committee Type:"),e(),t(43,"input",26,6),v("ngModelChange",function(r){f(i);let a=c();return M(a.selectedMember.committeeType,r)||(a.selectedMember.committeeType=r),b(r)}),e(),p(45,de,2,0,"div",18),e(),t(46,"div",16)(47,"label"),o(48,"Status:"),e(),t(49,"select",27,7),v("ngModelChange",function(r){f(i);let a=c();return M(a.selectedMember.status,r)||(a.selectedMember.status=r),b(r)}),t(51,"option",20),o(52,"--Select Status--"),e(),t(53,"option",28),o(54,"Active"),e(),t(55,"option",29),o(56,"Non-Active"),e()(),p(57,ae,2,0,"div",18),e(),t(58,"button",30),o(59,"Save"),e(),t(60,"button",31),x("click",function(){f(i);let r=c();return b(r.cancelEdit())}),o(61,"Cancel"),e()()}if(n&2){let i=_(1),s=_(8),r=_(14),a=_(26),y=_(32),S=_(38),h=_(44),E=_(50),g=c();d(2),l("ngIf",!g.selectedMember.memberId),d(),l("ngIf",g.selectedMember.memberId),d(4),u("ngModel",g.selectedMember.name),d(2),l("ngIf",s.invalid&&s.touched),d(4),u("ngModel",g.selectedMember.role),d(8),l("ngIf",r.invalid&&r.touched),d(4),u("ngModel",g.selectedMember.contactInfo),d(2),l("ngIf",a.invalid&&a.touched),d(4),u("ngModel",g.selectedMember.email),d(2),l("ngIf",y.invalid&&y.touched),d(4),u("ngModel",g.selectedMember.dateOfJoining),d(2),l("ngIf",S.invalid&&S.touched),d(4),u("ngModel",g.selectedMember.committeeType),d(2),l("ngIf",h.invalid&&h.touched),d(4),u("ngModel",g.selectedMember.status),d(8),l("ngIf",E.invalid&&E.touched),d(),l("disabled",i.invalid)}}var H=class n{constructor(m,i){this.membersService=m;this.location=i}members=[];selectedMember=null;goBack(){this.location.back()}ngOnInit(){this.loadMembers()}loadMembers(){this.membersService.getAllMembers().subscribe(m=>{this.members=m.data},m=>{console.error("Error fetching members:",m)})}addMember(){this.selectedMember={name:"",role:"",contactInfo:"",email:"",dateOfJoining:"",committeeType:"",status:""}}editMember(m){this.selectedMember=w({},m)}saveMember(){this.selectedMember&&this.membersService.saveMember(this.selectedMember).subscribe(()=>{this.selectedMember=null,this.loadMembers()},m=>{console.error("Error saving member:",m)})}deleteMember(m){m&&confirm("Are you sure you want to delete this member?")&&this.membersService.deleteMember(m).subscribe(()=>{this.loadMembers()},i=>{console.error("Error deleting member:",i)})}cancelEdit(){this.selectedMember=null}static \u0275fac=function(i){return new(i||n)(C(U),C(k))};static \u0275cmp=I({type:n,selectors:[["app-add-members"]],decls:9,vars:1,consts:[["memberForm","ngForm"],["name","ngModel"],["role","ngModel"],["contactInfo","ngModel"],["email","ngModel"],["dateOfJoining","ngModel"],["committeeType","ngModel"],["status","ngModel"],[1,"back-button"],["onclick","history.back()"],[1,"container"],[1,"heading"],[1,"add-btn",3,"click"],["class","form-card","novalidate","",3,"ngSubmit",4,"ngIf"],["novalidate","",1,"form-card",3,"ngSubmit"],[4,"ngIf"],[1,"form-group"],["name","name","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["name","role","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","working"],["value","core"],["name","contactInfo","required","","pattern","^[0-9]{10}$",1,"form-control",3,"ngModelChange","ngModel"],["name","email","type","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","dateOfJoining","type","date","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","committeeType","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","status","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Non-Active"],["type","submit",1,"save-btn",3,"disabled"],["type","button",1,"save-btn",3,"click"],[1,"error"]],template:function(i,s){i&1&&(t(0,"div",8)(1,"button",9),o(2,"\u2B05 Back"),e()(),t(3,"div",10)(4,"h2",11),o(5,"Members List"),e(),t(6,"button",12),x("click",function(){return s.addMember()}),o(7,"Add Member"),e(),p(8,le,62,17,"form",13),e()),i&2&&(d(8),l("ngIf",s.selectedMember))},dependencies:[P,O,G,B,D,F,V,J,W,q,R,z,j,L,N],styles:[".back-button[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.back-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;padding:10px 16px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:.3s}.back-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#495057}.container[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.heading[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:20px;text-align:center}.error[_ngcontent-%COMP%]{color:red;font-size:13px;margin-top:5px}.add-btn[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:10px 16px;font-size:16px;border-radius:6px;cursor:pointer;display:block;margin:0 auto 20px;transition:background-color .3s ease}.add-btn[_ngcontent-%COMP%]:hover{background-color:#219150}.form-card[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:10px;padding:25px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:5px;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccd1d1;border-radius:6px;font-size:14px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.save-btn[_ngcontent-%COMP%]{background-color:#2980b9;color:#fff;border:none;padding:10px 20px;font-size:15px;border-radius:6px;cursor:pointer;transition:background-color .3s ease;display:inline-block;margin-right:10px}.save-btn[_ngcontent-%COMP%]:hover{background-color:#1f6391}"]})};export{H as AddMembersComponent};
